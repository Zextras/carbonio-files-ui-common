# SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
#
# SPDX-License-Identifier: AGPL-3.0-only

#import "../fragments/child.graphql"

query getChildren(
	$id: ID!,
	$childrenLimit: Int!,
	$cursor: String,
	$sort: NodeSort!,
	$sharesLimit: Int = 1
) {
	getNode(id: $id) {
		id
		name
		... on Folder {
			children(limit: $childrenLimit, cursor: $cursor, sort: $sort) {
				...Child
				shares(limit: $sharesLimit) {
					created_at
				}
			}
			cursor @client
		}
	}
}
